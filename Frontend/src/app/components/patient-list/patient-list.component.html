<div class="globalpatient">

  
  <form class="generalForm" #patientF="ngForm" novalidate [formGroup]="patient">


    <mat-tab-group mat-stretch-tabs class="tab-list">
      <mat-tab label="Datos Personales">


        <div class="personal-info">

          <mat-form-field appearance="outline">
            <mat-label>Nhc*</mat-label>
            <input matInput formControlName="nhc">
            <mat-hint>Máx 15 caracteres</mat-hint>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Nombre*</mat-label>
            <input matInput formControlName="name">
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Primer Apellido*</mat-label>
            <input matInput formControlName="surname">
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Segundo Apellido</mat-label>
            <input matInput formControlName="second_surname">
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Nif</mat-label>
            <input matInput formControlName="nif">
            <mat-hint>00000000X</mat-hint>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Fecha</mat-label>
            <input matInput formControlName="birth_date">
            <mat-hint>dd/mm/aaaa</mat-hint>
          </mat-form-field>


          <mat-form-field class="gender">
            <mat-label class="whatGender">Género</mat-label>
            <mat-select [(value)]="selected" formControlName="gender">
              <mat-option value="hombre">Hombre</mat-option>
              <mat-option value="mujer">Mujer</mat-option>
              <mat-option value="otro">Otro</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

      </mat-tab>
      <mat-tab label="Dirección">
        <div class="personal-info">

          <mat-form-field class="street-width">
            <mat-label>Calle</mat-label>
            <textarea matInput formControlName="street"></textarea>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Número</mat-label>
            <input matInput formControlName="portal_number">
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Puerta</mat-label>
            <input matInput formControlName="door">
          </mat-form-field>

          <mat-form-field class="example-full-width">
            <mat-label>Código Postal</mat-label>
            <input matInput formControlName="postal_code" #postal_Code maxlength="5" placeholder="Ex. 94105" value="">
            <mat-hint>{{postal_Code.value.length}} / 5</mat-hint>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Ciudad</mat-label>
            <input matInput formControlName="city">
          </mat-form-field>

        </div>
      </mat-tab>
      <mat-tab label="Aseguradora">
        <div class="personal-info">

          <mat-form-field appearance="outline">
            <mat-label>Número de Tarjeta</mat-label>
            <input matInput formControlName="tarjet_number">
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Nombre Aseguradora</mat-label>
            <input matInput formControlName="insurance_name">
          </mat-form-field>

          <mat-form-field class="insurance_type">
            <mat-label class="whatType">Tipo de Seguro</mat-label>
            <mat-select [(value)]="selected" formControlName="type_of_insurance">
              <mat-option value="salud">Salud</mat-option>
              <mat-option value="familiar">Familiar</mat-option>
              <mat-option value="dental">Dental</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </mat-tab>
    </mat-tab-group>
    <div class="btns">
      <button mat-stroked-button type="submit" class="btns_form" color="primary" (click)="onSubmit(patient)">Añadir Paciente</button>
      <button mat-stroked-button type="button" class="btns_form" color="primary" ><a href="#patients_list"> Lista Pacientes</a></button>
      
    </div>
  </form>
  
</div>



  <div class="patients_list" id="patients_list">

    <h1 class="patient-title">PACIENTES</h1>

    <table class="responsive-table highlight">
      <tr>
        <th>NHC</th>
        <th>Nombre</th>
        <th>Primer Apellido</th>
        <th>NIF</th>
        <th>Calle</th>
        <th>Ciudad</th>
        <th>Código Postal</th>
      </tr>
      <tr *ngFor="let pat of patientService.patients">
        <td>{{pat.nhc}}</td>
        <td>{{pat.name}}</td>
        <td>{{pat.surname}}</td>
        <td>{{pat.nif}}</td>
        <td>{{pat.street}}</td>
        <td>{{pat.city}}</td>
        <td>{{pat.postal_code}}</td>
        <td>
          <a class="action-btn" (click)="onEdit(pat)">
            <i class="material-icons">edit</i>
          </a>
          <a class="action-btn" (click)="onDelete(pat._id,patientF)">
            <i class="material-icons">delete</i>
          </a>
        </td>
      </tr>
     
    </table>

    

  </div>

  























































































  <!-- <div class="row">
    <div class="col s12">
      <div class="card">
        <div class="card-content white-text">
          <div class="row">
            <div class="col s5">
              <form #patientForm="ngForm" (ngSubmit)="onSubmit(patientForm)">
                <input type="hidden" name="_id" #_id="ngModel" [(ngModel)]="patientService.selectedPatient._id">
                <div class="row">
                  <div class="input-field col s12">
                    <input type="text" name="name" #name="ngModel" [(ngModel)]="patientService.selectedPatient.nhc" placeholder="Introduce nhc" required>
                    <label>Nhc :
                      <label class="red-text">*</label>
                    </label>
                  </div>
                </div>
                <div class="row">
                  <div class="input-field col s12">
                    <input type="text" name="position" #name="ngModel" [(ngModel)]="patientService.selectedPatient.name" placeholder="Nombre">
                    <label>Name :</label>
                  </div>
                </div>
                <div class="row">
                  <div class="input-field col s12">
                    <input type="text" name="office" #name="ngModel" [(ngModel)]="patientService.selectedPatient.surname" placeholder="Apellido">
                    <label>Surname :</label>
                  </div>
                </div>
                <div class="row">
                  <div class="input-field col s12">
                    <label>Número de portal :</label>
                    <input type="text" name="salary" #name="ngModel" [(ngModel)]="patientService.selectedPatient.portal_number" placeholder="Portal">
                  </div>
                </div>
                <div class="row">
                  <div class="input-field col s12">
                    <button class="btn btn-custom right" type="button" (click)="resetForm(patientForm)">Reset</button>
                    <button class="btn btn-custom right" type="submit" [disabled]="!patientForm.valid">Submit</button>
                  </div>
                </div>
              </form>
            </div>
            <div class="col s7">
                <table class="responsive-table highlight">
                    <thead>
                      <tr>
                        <th>Nhc</th>
                        <th>Name</th>
                        <th>Surname</th>
                        <th></th>
                      </tr>
                    </thead>
                    <tr *ngFor="let pat of patientService.patients">
                      <td>{{pat.nhc}}</td>
                      <td>{{pat.name}}</td>
                      <td>{{pat.surname}}</td>
                      <td>
                          <a class="action-btn" (click)="onEdit(pat)">
                            <i class="material-icons">edit</i>
                          </a>
                          <a class="action-btn" (click)="onDelete(pat._id,patientForm)">
                            <i class="material-icons">delete</i>
                          </a>
                        </td>
                    </tr>
                  </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  
  </div> -->

